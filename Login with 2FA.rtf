{\rtf1\ansi\ansicpg1252\cocoartf2757
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fmodern\fcharset0 Courier;\f1\fmodern\fcharset0 Courier-Oblique;}
{\colortbl;\red255\green255\blue255;\red191\green100\blue38;\red32\green32\blue32;\red153\green168\blue186;
\red173\green169\blue32;\red254\green187\blue91;\red109\green109\blue109;\red88\green118\blue71;\red86\green132\blue173;
\red133\green96\blue154;}
{\*\expandedcolortbl;;\csgenericrgb\c74902\c39216\c14902;\csgenericrgb\c12549\c12549\c12549;\csgenericrgb\c60000\c65882\c72941;
\csgenericrgb\c67843\c66275\c12549;\csgenericrgb\c99608\c73333\c35686;\csgenericrgb\c42745\c42745\c42745;\csgenericrgb\c34510\c46275\c27843;\csgenericrgb\c33725\c51765\c67843;
\csgenericrgb\c52157\c37647\c60392;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f0\fs26 \cf2 \cb3 package \cf4 com.izooto.panel.twofactorlogin\cf2 ;\
\
import \cf4 com.paulhammant.ngwebdriver.ByAngular\cf2 ;\
import \cf4 org.junit.jupiter.api.\cf5 Test\cf2 ;\
import \cf4 org.openqa.selenium.By\cf2 ;\
import \cf4 org.openqa.selenium.WebDriver\cf2 ;\
import \cf4 org.openqa.selenium.WebElement\cf2 ;\
import \cf4 org.openqa.selenium.chrome.ChromeDriver\cf2 ;\
\
import \cf4 java.util.List\cf2 ;\
\
public class \cf4 TestTwoFactorLogin \{\
\
    \cf5 @Test\
    \cf2 public void \cf6 twoFactor\cf4 () \cf2 throws \cf4 InterruptedException \{\
\
        \cf7 // Open Chrome Browser\
        \cf4 WebDriver driver = \cf2 new \cf4 ChromeDriver()\cf2 ;\
\
        \cf7 // Open Panel\
        \cf4 driver.get(\cf8 "https://panel.izooto.com/"\cf4 )\cf2 ;\
        \cf4 driver.manage().window().maximize()\cf2 ;\
        \cf4 Thread.
\f1\i sleep
\f0\i0 (\cf9 2000\cf4 )\cf2 ;\
\
        \cf7 // Login on Panel\
        \cf4 driver.findElement(By.
\f1\i xpath
\f0\i0 (\cf8 "//input[@formcontrolname='email']"\cf4 )).clear()\cf2 ;\
        \cf4 driver.findElement(By.
\f1\i xpath
\f0\i0 (\cf8 "//input[@formcontrolname='email']"\cf4 )).sendKeys(\cf8 "izooto56@gmail.com"\cf4 )\cf2 ;\
        \cf4 Thread.
\f1\i sleep
\f0\i0 (\cf9 2000\cf4 )\cf2 ;\
        \cf4 driver.findElement(By.
\f1\i xpath
\f0\i0 (\cf8 "//input[@formcontrolname='password']"\cf4 )).clear()\cf2 ;\
        \cf4 driver.findElement(By.
\f1\i xpath
\f0\i0 (\cf8 "//input[@formcontrolname='password']"\cf4 )).sendKeys(\cf8 "Izooto@123"\cf4 )\cf2 ;\
        \cf4 Thread.
\f1\i sleep
\f0\i0 (\cf9 2000\cf4 )\cf2 ;\
        \cf4 driver.findElement(ByAngular.
\f1\i buttonText
\f0\i0 (\cf8 "Sign In"\cf4 )).click()\cf2 ;\
        \cf4 Thread.
\f1\i sleep
\f0\i0 (\cf9 6000\cf4 )\cf2 ;\
\
        \
        \cf4 WebElement twoFactorCodeField = driver.findElement(By.
\f1\i xpath
\f0\i0 (\cf8 "//input[@placeholder='Enter 6 digit code']"\cf4 ))\cf2 ;\
        \cf4 List<String> preGeneratedCodes = 
\f1\i getPreGeneratedCodes
\f0\i0 ()\cf2 ;\
\
       \
        for \cf4 (String code : preGeneratedCodes) \{\
\
            \cf7 // Enter the 2FA code\
            \cf4 twoFactorCodeField.clear()\cf2 ;\
            \cf4 twoFactorCodeField.sendKeys(code)\cf2 ;\
\
            \cf7 // Submit the 2FA form\
            \cf4 WebElement authenticateButton = driver.findElement(By.
\f1\i cssSelector
\f0\i0 (\cf8 "button.btn-save"\cf4 ))\cf2 ;\
            \cf4 authenticateButton.click()\cf2 ;\
\
           \
            if \cf4 (
\f1\i isAuthenticationSuccessful
\f0\i0 (driver)) \{\
                System.
\f1\i \cf10 out
\f0\i0 \cf4 .println(\cf8 "Authentication successful with code: " \cf4 + code)\cf2 ;\
                break;\
            \cf4 \}\
        \}\
    \}\
\
    \cf2 private static \cf4 List<String> \cf6 getPreGeneratedCodes\cf4 () \{\
       \
        \cf2 return \cf4 List.
\f1\i of
\f0\i0 (\cf8 "2hk251"\cf2 , \cf8 "4hev51"\cf2 , \cf8 "d3h2qs"\cf2 , \cf8 "j60ytk"\cf2 , \cf8 "gszztc"\cf2 , \cf8 "4hlmoi"\cf2 , \cf8 "coemgt"\cf2 , \cf8 "qvzxtj"\cf2 , \cf8 "y5vt0f"\cf2 , \cf8 "ag5zbi"\cf4 )\cf2 ;\
    \cf4 \}\
\
    \cf2 private static boolean \cf6 isAuthenticationSuccessful\cf4 (WebDriver driver) \{\
        \cf2 try \cf4 \{\
            \cf2 return \cf4 driver.findElement(By.
\f1\i id
\f0\i0 (\cf8 "successfulLoginIndicator"\cf4 )).isDisplayed()\cf2 ;\
        \cf4 \} \cf2 catch \cf4 (Exception e) \{\
            \cf2 return false;\
        \cf4 \}\
    \}\
\}\
}